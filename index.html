<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <meta name="format-detection" content="telephone=no" />

    <title>Automated Raffle System</title>

    <!-- <link rel="icon" href="./assets/images/favicon.ico" /> -->
    <!-- <link rel="stylesheet" type="text/css" href="./styles/main.min.css" /> -->
    <link href="./css/main.css" type="text/css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
    <link href="https://cdn.datatables.net/v/dt/jq-3.7.0/dt-1.13.6/b-2.4.2/b-html5-2.4.2/datatables.min.css" rel="stylesheet">
    <!--[if lte IE 9]>
      <link href="stylesheets/non-responsive.css" rel="stylesheet" />
    <![endif]-->

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>
    <header></header>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>

    <main class="home">
      <div class="container raffle-container">
        <img src="assets/app-logo.png" class="img-fluid nanox-logo"/>
        <button type="button" class="btn btn-light" id="uploadExcelFileHere" data-bs-toggle="modal" data-bs-target="#excelFormat"> UPLOAD EXCEL FILE </button>
        <p class="file-name" id="displayFileName"></p>
        <input class="form-control raffle-prize" type="text" id="raffleItem" placeholder="INPUT RAFFLE ITEM" value="">
        <button type="button" class="btn btn-random" id="random-button">GENERATE WINNER</button>
        <!-- data-bs-toggle="modal" data-bs-target="#staticBackdrop" -->
        <p class="file-name total-label">Picking 1 Employee out of : <span id="employeeSize"></span></p>
        <button type="button" class="btn btn-outline-light" data-bs-toggle="modal" data-bs-target="#winnerModalList">
          VIEW WINNERS
        </button>

        <!-- <div class="timer-group">
          <p class="timer-text">DRUM ROLL</p>
          <button type="button" class="btn btn-outline-light drum-btn" id="drumRollBtn"> OFF </button>
        </div> -->

        <div class="btn-group dropup settings-group">
            <button type="button" class="btn btn-light dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear-fill" viewBox="0 0 16 16">
                <path d="M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"/>
              </svg>
            </button>
            <ul class="dropdown-menu">
              
              <div class="timer-group">
                <p class="timer-text">DRUM ROLL</p>
                <button type="button" class="btn btn-outline-dark drum-btn" id="drumRollBtn"> OFF </button>
              </div>

              <div class="timer-group">
                <p class="timer-text">DEV MODE</p>
                <button type="button" class="btn btn-outline-dark drum-btn" id="devModeBtn"> OFF </button>
              </div>

              <div class="timer-group">
                <p class="timer-text">HOW IT WORKS</p>
                <button type="button" class="btn btn-outline-dark drum-btn" data-bs-toggle="modal" data-bs-target="#instructionModal">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-fill" viewBox="0 0 16 16">
                    <path d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"/>
                    <path d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8m8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7"/>
                  </svg>
                </button>
              </div>

            </ul>
        </div>

      </div>
      
    </main>

    <audio id="winnerAudio">
      <source src="assets/win.mp3" type="audio/mpeg">
    </audio>

    <!-- Winner List Modal -->
    <div class="modal fade modal-winners" id="winnerModalList" tabindex="-1" aria-labelledby="winnerModalListLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="winnerModalListLabel">AUT<span id="">O</span>MATED RAFFLE SYSTEM: WINNER LIST</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <table id="winnersTbl" class="table table-striped table-sm tbl-list-winners">
                <thead>
                <tr>
                    <th scope="col" class="tbl-emp-id">No.</th>
                    <th scope="col" class="tbl-emp-id">Local ID</th>
                    <th scope="col" class="tbl-emp-name">Name</th>
                    <th scope="col" class="tbl-emp-dept">Department</th>
                    <th scope="col" class="tbl-emp-prize">Prize</th>
                </tr>
                </thead>
                <tbody>
                
                </tbody>
            </table> 
          </div>
        </div>
      </div>
    </div>

    <!-- Display Winner Modal -->
    <div class="modal fade modal-random" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <!-- <div class="modal-header">
            <h1 class="modal-title fs-5" id="staticBackdropLabel">Modal title</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div> -->
          <div class="modal-body">
            <p class="display-congrats">congratulations!</p>
            <div class="display-group">
              <p class="display-name" id="dmWinner"></p>
              <div class="display-details"><p class="dd-user" id="dmDepartment"></p> <p class="dd-user">-</p> <p class="dd-user" id="dmIdNumber"></p></div>
            </div>
            <p class="display-prize">FOR WINNING: <span id="dmPrize"></span></p>
            <button type="button" class="btn btn-secondary btn-claim" id="btnClaim" data-bs-dismiss="modal">CLAIM PRIZE</button>
            <button type="button" class="btn btn-secondary btn-redraw" id="btnRedraw" data-bs-dismiss="modal">REDRAW</button>
          </div>
          <!-- <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary">Understood</button>
          </div> -->
        </div>
      </div>
    </div>

    <!-- Complete Modal -->
    <div class="modal fade duplicate-modal" id="duplicateModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="duplicateModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
              
                <div class="modal-body">
                    <div class="dup-cover"></div>
                    <div class="dup-message">
                      <p class="dup-title">DRAW COMPLETED</p>
                      <p class="dup-text">All employee on the list were already picked! No duplicate entry.</p>
                      <button type="button" class="btn btn-secondary btn-dup" data-bs-dismiss="modal">CLOSE</button>
                    </div>
                </div>
              
            </div>
        </div>
    </div>

    <!-- No File Modal -->
    <div class="modal fade duplicate-modal" id="noFileModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="noFileModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
              
                <div class="modal-body">
                    <div class="dup-cover-file"></div>
                    <div class="dup-message">
                      <p class="dup-title">NO SELECTED EXCEL FILE</p>
                      <p class="dup-text">Please upload excel file using the "UPLOAD EXCEL FILE" button!</p>
                      <button type="button" class="btn btn-secondary btn-dup" data-bs-dismiss="modal">CLOSE</button>
                    </div>
                </div>
              
            </div>
        </div>
    </div>

    <!-- No Input of Raffle Item Modal -->
    <div class="modal fade duplicate-modal" id="noRaffleItem" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="noRaffleItemLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
              
                <div class="modal-body">
                    <div class="dup-cover-prize"></div>
                    <div class="dup-message">
                      <p class="dup-title">WHERE'S THE PRIZE?</p>
                      <p class="dup-text">Please input a raffle item before clicking the random button!</p>
                      <button type="button" class="btn btn-secondary btn-dup" data-bs-dismiss="modal">CLOSE</button>
                    </div>
                </div>
              
            </div>
        </div>
    </div>

    <!-- Excel Format Modal -->
    <div class="modal fade duplicate-modal" id="excelFormat" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="excelFormatLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
              
                <div class="modal-body">
                    <div class="dup-cover-format">
                      <img src="assets/format1.JPG" class="img-fluid nanox-logo"/>
                    </div>
                    <div class="dup-message">
                      <p class="dup-title">EXCEL COLUMN FORMAT</p>
                      <p class="dup-text-format"><b>Please follow this column format on your Excel File.</b> This is to make sure that the employee details are properly plotted on the system. The first column should be Employee Count, followed by Employee ID, First Name, Middle Name, Last Name, Department and Division. <b>Anything can follow after the Division Column.</b></p>
                      <!-- <button type="button" class="btn btn-secondary btn-dup" data-bs-dismiss="modal">UNDERSTOOD</button> -->
                      <input class="file-name hide" type="file" id="input" />
                      <div class="upload-btn-group">
                        <label for="input" class="upload-btn">PROCEED WITH UPLOAD</label>
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">CANCEL</button>
                      </div>
                      
                    </div>
                </div>
              
            </div>
        </div>
    </div>

    <!-- Drum Roll Modal -->
    <div class="modal fade duplicate-modal" id="drumRollModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="drumRollModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content drum-roll-content">
              
                <div class="modal-body drum-roll-body">
                    <div class="dup-cover-drum">
                      <p class="dup-title dup-winner-drum-title">THE WINNER IS</p>
                    </div>
                </div>
              
            </div>
        </div>
    </div>

    <!-- No File Modal -->
    <div class="modal fade instruction-modal" id="instructionModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="instructionModalLabel" data-bs-wrap="false" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
              <div class="modal-body">
                  <div class="dup-cover-file">
                      <div id="carouselExampleIndicators" class="carousel carousel-dark slide instruction-carousel">
                          <div class="carousel-indicators">
                            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
                            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
                            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="3" aria-label="Slide 4"></button>
                            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="4" aria-label="Slide 5"></button>
                            <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="5" aria-label="Slide 6"></button>
                          </div>
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                              <div class="instruction-container instruction-one">
                                <p class="instruction-title">Upload the Excel File</p>
                                <p class="instruction-text">Ensure to follow the correct format for the rows and column. The first row should always be the Table Header. Header titles for each column are Number [Column A], Employee ID [Column B], First Name [Column C], Middle Name [Column D], Last Name [Column E], Department [Column F], and Division [Column G].</p>
                              </div>
                            </div>
                            <div class="carousel-item">
                              <div class="instruction-container">
                                <p class="instruction-title">Input the raffle item</p>
                                <p class="instruction-text">Type the raffle item in the provided text box to record the item being raffled. You can change the inputted raffle item in the text box whenever there’s a new item to be raffled.</p>
                              </div>
                            </div>
                            <div class="carousel-item">
                              <div class="instruction-container">
                                <p class="instruction-title">Generate a Random Winner</p>
                                <p class="instruction-text">After clicking the “Generate Winner” button, the automated raffle system will generate a random number. The system will then match this random number to the corresponding row number in the Excel file to select the winner.</p>
                              </div>
                            </div>
                            <div class="carousel-item">
                              <div class="instruction-container">
                                <p class="instruction-title">Announcement of the Winner</p>
                                <p class="instruction-text">The system will display an alert with the details of the randomly selected winner and the raffle item. You can click the "Claim Prize" button if the winner is present to claim their prize or click the "Redraw" button if the winner is not present, and the system will go back to the main screen for you to generate a new random winner.</p>
                              </div>
                            </div>
                            <div class="carousel-item">
                              <div class="instruction-container">
                                <p class="instruction-title">View and Download Winners List</p>
                                <p class="instruction-text">Click the “View Winners” button to open a popup window displaying all the recorded winners who have claimed their prize. Inside the popup window, there will be an option to download the data, which will produce an Excel file with the list of winners.</p>
                              </div>
                            </div>
                            <div class="carousel-item">
                              <div class="instruction-container">
                                <p class="instruction-title">Contact for Further Questions</p>
                                <p class="instruction-text">If you have any questions or need further assistance, please contact the developer of the system:</p>
                                <p class="instruction-text">Email [nxp.is-team.zz@j-display.com] [richardmarck.barreda.wa@j-display.com] Telephone [1171 or 1170]</p>
                                <button type="button" class="btn btn-secondary btn-close-modal" data-bs-dismiss="modal">CLOSE</button>
                              </div>
                            </div>
                        </div>
                        <button class="carousel-control-prev carousel-instruction-btn" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next carousel-instruction-btn" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>


    <footer></footer>

    <!-- build:js scripts/main.min.js -->
    <!-- <script src="node_modules/jquery/dist/jquery.min.js"></script> -->
    <!-- <script src="node_modules/jquery/dist/popper.min.js"></script> -->
    <!-- <script src="node_modules/jquery/dist/js/bootstrap.min.js"></script> -->
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/write-excel-file@1.x/bundle/write-excel-file.min.js"></script>
    <script src="https://unpkg.com/read-excel-file@5.x/bundle/read-excel-file.min.js"></script>
    
    <script src="./javascripts/main.js"></script> 

    <script src="https://cdn.datatables.net/v/dt/jq-3.7.0/dt-1.13.6/b-2.4.2/b-html5-2.4.2/datatables.min.js" defer></script>

    <!-- endbuild -->

    <!--[if lte IE 9]>
      <script src="javascripts/non-responsive.js"></script>
    <![endif]-->
  </body>
</html>